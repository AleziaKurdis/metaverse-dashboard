(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ef741968"],{"4bd4":function(e,t,n){"use strict";n("4de4"),n("7db0"),n("4160"),n("caad"),n("07ac"),n("2532"),n("159b");var i=n("5530"),a=n("58df"),o=n("7e2b"),r=n("3206");t["a"]=Object(a["a"])(o["a"],Object(r["b"])("form")).extend({name:"v-form",provide:function(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(e){var t=Object.values(e).includes(!0);this.$emit("input",!t)},deep:!0,immediate:!0}},methods:{watchInput:function(e){var t=this,n=function(e){return e.$watch("hasError",(function(n){t.$set(t.errorBag,e._uid,n)}),{immediate:!0})},i={_uid:e._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?i.shouldValidate=e.$watch("shouldValidate",(function(a){a&&(t.errorBag.hasOwnProperty(e._uid)||(i.valid=n(e)))})):i.valid=n(e),i},validate:function(){return 0===this.inputs.filter((function(e){return!e.validate(!0)})).length},reset:function(){this.inputs.forEach((function(e){return e.reset()})),this.resetErrorBag()},resetErrorBag:function(){var e=this;this.lazyValidation&&setTimeout((function(){e.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(e){return e.resetValidation()})),this.resetErrorBag()},register:function(e){this.inputs.push(e),this.watchers.push(this.watchInput(e))},unregister:function(e){var t=this.inputs.find((function(t){return t._uid===e._uid}));if(t){var n=this.watchers.find((function(e){return e._uid===t._uid}));n&&(n.valid(),n.shouldValidate()),this.watchers=this.watchers.filter((function(e){return e._uid!==t._uid})),this.inputs=this.inputs.filter((function(e){return e._uid!==t._uid})),this.$delete(this.errorBag,t._uid)}}},render:function(e){var t=this;return e("form",{staticClass:"v-form",attrs:Object(i["a"])({novalidate:!0},this.attrs$),on:{submit:function(e){return t.$emit("submit",e)}}},this.$slots.default)}})},c66d:function(e,t,n){"use strict";n.r(t);var i,a,o,r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"inspire"}},[n("v-main",[n("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("ProfileComponent")],1)],1)],1)],1)},s=[],c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-form",[n("v-form",{ref:"username"},[n("v-text-field",{attrs:{label:"Username",name:"username","prepend-icon":"mdi-rename-box","append-icon":"mdi-send-circle",type:"text",rules:e.usernameRules},on:{"click:append":function(t){return e.postUpdateAccount("username",e.username)}},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),n("v-form",{ref:"email"},[n("v-text-field",{attrs:{label:"Email",name:"email","prepend-icon":"mdi-email","append-icon":"mdi-send-circle",type:"text",rules:e.emailRules},on:{"click:append":function(t){return e.postUpdateAccount("email",e.email)}},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),n("v-form",{ref:"images_hero"},[n("v-text-field",{attrs:{label:"Hero Image",name:"images_hero","prepend-icon":"mdi-image-size-select-actual","append-icon":"mdi-send-circle",type:"text"},on:{"click:append":function(t){return e.postUpdateAccount("images_hero",e.images_hero)}},model:{value:e.images_hero,callback:function(t){e.images_hero=t},expression:"images_hero"}})],1),n("v-form",{ref:"images_tiny"},[n("v-text-field",{attrs:{label:"Tiny Image",name:"images_tiny","prepend-icon":"mdi-image-size-select-large","append-icon":"mdi-send-circle",type:"text"},on:{"click:append":function(t){return e.postUpdateAccount("images_tiny",e.images_tiny)}},model:{value:e.images_tiny,callback:function(t){e.images_tiny=t},expression:"images_tiny"}})],1),n("v-form",{ref:"images_thumbnail"},[n("v-text-field",{attrs:{label:"Thumbnail Image",name:"images_thumbnail","prepend-icon":"mdi-image-size-select-small","append-icon":"mdi-send-circle",type:"text"},on:{"click:append":function(t){return e.postUpdateAccount("images_thumbnail",e.images_thumbnail)}},model:{value:e.images_thumbnail,callback:function(t){e.images_thumbnail=t},expression:"images_thumbnail"}})],1),n("v-form",{ref:"publicKey"},[n("v-text-field",{attrs:{label:"Public Key",name:"publicKey","prepend-icon":"mdi-account-key","append-icon":"mdi-send-circle",type:"text",rules:e.publicKeyRules},on:{"click:append":function(t){return e.postUpdateAccount("public_key",e.publicKey)}},model:{value:e.publicKey,callback:function(t){e.publicKey=t},expression:"publicKey"}})],1),n("v-expansion-panels",[n("v-expansion-panel",[n("v-expansion-panel-header",{attrs:{"disable-icon-rotate":""},scopedSlots:e._u([{key:"actions",fn:function(){return[n("v-icon",{attrs:{color:"error"}},[e._v("mdi-information-variant")])]},proxy:!0}])},[e._v(" Details ")]),n("v-expansion-panel-content",[n("v-list",{staticClass:"transparent"},[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[e._v(" Account ID ")]),n("v-list-item-subtitle",[e._v(" "+e._s(e.accountId)+" ")])],1)],1),n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[e._v(" Roles ")]),n("v-list-item-subtitle",[e._v(" "+e._s(e.roles)+" ")])],1)],1),n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[e._v(" Account Creation Date ")]),n("v-list-item-subtitle",[e._v(" "+e._s(e.whenAccountCreated)+" ")])],1)],1)],1)],1)],1),n("v-expansion-panel",[n("v-expansion-panel-header",{attrs:{"disable-icon-rotate":""},scopedSlots:e._u([{key:"actions",fn:function(){return[n("v-icon",{attrs:{color:"error"}},[e._v("mdi-lock-reset")])]},proxy:!0}])},[e._v(" Change Password ")]),n("v-expansion-panel-content",[n("v-form",{ref:"password"},[n("v-list",{staticClass:"transparent"},[n("v-list-item",[n("v-text-field",{attrs:{label:"Password",name:"password","prepend-icon":"mdi-form-textbox-password",type:"password",rules:e.passwordRules},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),n("v-list-item",[n("v-text-field",{attrs:{label:"Confirm Password",name:"confirmPassword","prepend-icon":"mdi-form-textbox-password","append-icon":"mdi-send-circle",type:"password",rules:e.confirmPasswordRules},on:{"click:append":function(t){return e.postUpdateAccount("password",e.confirmPassword)}},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}})],1)],1)],1)],1)],1)],1)],1)},u=[],l=n("8552"),d={name:"ProfileComponent",props:{source:String},data:function(){return{username:"",usernameRules:[function(e){return!!e||"A username is required."}],email:"",emailRules:[function(e){return!!e||"An email is required."}],images_hero:"",images_tiny:"",images_thumbnail:"",publicKey:"",publicKeyRules:[function(e){return!!e||"A public key is required."}],password:"",passwordRules:[function(e){return!!e||"A password is required."}],confirmPassword:"",confirmPasswordRules:[function(e){return!!e||"You must confirm your password."},function(e){return e===i.password||"Your password must match."}],accountId:"",roles:"",whenAccountCreated:""}},methods:{sendEvent:function(e,t){l["a"].$emit(e,t)},initialize:function(){this.retrieveAccount(a.account.accountId)},retrieveAccount:function(e){var t=window.$.param({asAdmin:a.account.useAsAdmin});t="?"+t,window.$.ajax({type:"GET",url:o+"/api/v1/account/"+e+t}).done((function(e){i.username=e.data.account.username,i.$store.commit("mutate",{update:!0,property:"account",with:{username:i.username}}),i.email=e.data.account.email,i.publicKey=e.data.account.public_key,i.accountId=e.data.account.accountId,i.roles=e.data.account.roles,i.whenAccountCreated=e.data.account.when_account_created,e.data.account.images.hero&&(i.images_hero=e.data.account.images.hero),e.data.account.images.tiny&&(i.images_tiny=e.data.account.images.tiny),e.data.account.images.thumbnail&&(i.images_thumbnail=e.data.account.images.thumbnail)})).fail((function(t){console.info("Failed to retrieve account: ",t),i.$store.commit("mutate",{property:"error",with:{title:"Failed to retrieve account "+e,code:"2",full:t.responseJSON.error}}),i.sendEvent("open-dialog",{which:"ErrorOccurred",shouldShow:!0})}))},postUpdateAccount:function(e,t){if(this.$refs[e].validate()){var n={set:t},r=window.$.param({asAdmin:a.account.useAsAdmin});r="?"+r,window.$.ajax({type:"POST",url:o+"/api/v1/account/"+a.account.accountId+"/field/"+e+r,contentType:"application/json",data:JSON.stringify(n)}).done((function(e){console.info("Successfully updated account:",a.account.accountId),i.retrieveAccount(a.account.accountId)})).fail((function(e){console.info("Failed to update account:",a.account.accountId),i.$store.commit("mutate",{property:"error",with:{title:"Failed to update account "+a.account.username,code:"3",full:e.responseJSON.error}}),i.sendEvent("open-dialog",{which:"ErrorOccurred",shouldShow:!0}),i.retrieveAccount(a.account.accountId)}))}}},created:function(){i=this,a=this.$store.state,o=this.$store.state.metaverseConfig.server,this.initialize()}},m=d,p=n("2877"),f=n("6544"),h=n.n(f),v=n("cd55"),b=n("49e2"),w=n("c865"),_=n("0393"),g=n("4bd4"),y=n("132d"),x=n("8860"),A=n("da13"),k=n("5d23"),V=n("8654"),P=Object(p["a"])(m,c,u,!1,null,null,null),I=P.exports;h()(P,{VExpansionPanel:v["a"],VExpansionPanelContent:b["a"],VExpansionPanelHeader:w["a"],VExpansionPanels:_["a"],VForm:g["a"],VIcon:y["a"],VList:x["a"],VListItem:A["a"],VListItemContent:k["a"],VListItemSubtitle:k["b"],VListItemTitle:k["c"],VTextField:V["a"]});var $={name:"Profile",props:{source:String},components:{ProfileComponent:I}},E=$,C=n("7496"),B=n("a523"),O=n("f6c4"),R=n("0fd9"),S=Object(p["a"])(E,r,s,!1,null,null,null);t["default"]=S.exports;h()(S,{VApp:C["a"],VContainer:B["a"],VMain:O["a"],VRow:R["a"]})}}]);
//# sourceMappingURL=chunk-ef741968.af98e3d6.js.map